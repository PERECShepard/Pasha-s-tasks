#include <iostream>
#include <ctime>
#include <cstdlib>

class Balance{
    int human_score;
    int pc_score;
public:
    Balance(int humScore, int compScore){
        human_score = humScore;
        pc_score = compScore;
    }
    void showBalance() const{
        std::cout << "Human:_" << human_score << std::endl;
        std::cout << "Computer:_" << pc_score;
    }
    void humWinBalance(){
        human_score += 100;
        pc_score -= 100;
    }
    void pcWinBalance(){
        human_score -= 100;
        pc_score += 100;
    }

};

class NumberGame{
    Balance balance = Balance(1000, 1000);
public:
    void game(){
        int humanChoice, computerChoice, randNumber;
        humanChoice = getNumber();
        computerChoice = computerNumber(humanChoice);
        randNumber = rand() % 10 + 1;
        int absComputer = std::abs(computerChoice - randNumber);
        int absHuman = std::abs(humanChoice - randNumber);
        std::cout << "Game begin; Pc chose: " << computerChoice <<std::endl
                  << "Your choice: " << humanChoice << std::endl
                  << "Number: " << randNumber << std::endl;
        if(absComputer == absHuman){
            getWinnerByRange(balance, humanChoice, computerChoice);
            balance.showBalance();
        }else {
            getWinnerByAbs(balance,absHuman, absComputer);
            balance.showBalance();
        }
    }
    int getNumber(){
        int number;
        std::cout << "Please enter the number between 1 - 10 range:";
        while(std::cin >> number && !(number >= 1 && number <= 10)){
            std::cout << "Invalid input. Repeat.";
        }
        return number;
    }
    int computerNumber(int humanNumb){
        int compNumber;
        compNumber = rand() % 10 + 1;
        while(compNumber == humanNumb){
            compNumber = rand() % 10 + 1;;
        }
        return compNumber;
    }
    void getWinnerByRange(Balance bal,int compChoice, int humChoice){
        if(humChoice < compChoice){
            std::cout << "U R win because your number were less" << std::endl;
            bal.humWinBalance();
            bal.showBalance();
        }else {
            std::cout << "PC win because his number were less" << std::endl;
            bal.pcWinBalance();
        }
    }
    void getWinnerByAbs(Balance bal, int humAbs, int compAbs){
        if(humAbs < compAbs){
            std::cout << "U R win because your number were closer" << std::endl;
            bal.humWinBalance();
        }else {
            std::cout << "PC win because his number was closer" << std::endl;
            bal.pcWinBalance();
        }
    }
};

int main() {
    srand(time(nullptr));
    NumberGame number;
    number.game();
}
