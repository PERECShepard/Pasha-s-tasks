#include <iostream>
#include <ctime>
#include <cstdlib>

class NumberGame{
    int human = 1000;
    int computer = 1000;
public:
    void game(){
        int humanChoice, computerChoice, randNumber;
        humanChoice = getNumber();
        computerChoice = computerNumber(humanChoice);
        randNumber = rand() % 10 + 1;
        int absComputer = std::abs(computerChoice - randNumber);
        int absHuman = std::abs(humanChoice - randNumber);
        std::cout << "Game begin; Pc chose: " << computerChoice << "Your choice: " << humanChoice
                  << "Number: " << randNumber << std::endl;
        if(absComputer == absHuman){
            getWinnerByRange(humanChoice, computerChoice);
        }else {
            getWinnerByAbs(absHuman, absComputer);
        }
    }
    int getNumber(){
        int number;
        std::cout << "Please enter the number between 1 - 10 range:";
        while(std::cin >> number && !(number >= 1 && number <= 10)){
            std::cout << "Invalid input. Repeat.";
        }
        return number;
    }
    int computerNumber(int humanNumb){
        int compNumber;
        compNumber = rand() % 10 + 1;
        while(compNumber == humanNumb){
            compNumber = rand() % 10 + 1;;
        }
        return compNumber;
    }
    void getWinnerByRange(int compChoice, int humChoice){
        if(humChoice < compChoice){
            std::cout << "U R win because your number were less" << std::endl;
            human += 100;
            computer -= 100;
        }else {
            std::cout << "PC win because his number were less" << std::endl;
            human -= 100;
            computer += 100;
        }
    }
    void getWinnerByAbs(int humAbs, int compAbs){
        if(humAbs < compAbs){
            std::cout << "U R win because your number were closer" << std::endl;
            human += 100;
            computer -= 100;
        }else {
            std::cout << "PC win because his number was closer" << std::endl;
            human -= 100;
            computer += 100;
        }
    }
    void balance() const{
        std::cout << "Human:_" << human << std::endl;
        std::cout << "Computer:_" << computer;
    }
};

int main() {
    srand(time(nullptr));
    NumberGame number;
    number.game();
    number.balance();
}
